import Octokit from '@octokit/rest';
import { PluginConfig, ImgType } from './interface';
import { ImgInfo } from 'picgo/dist/utils/interfaces';
export declare class Octo {
    owner: string;
    repo: string;
    branch: string;
    path: string;
    token: string;
    customUrl: string;
    octokit: Octokit;
    origin: PluginConfig['origin'];
    constructor({ repo, branch, path, token, customUrl, origin }: PluginConfig);
    readonly isGithub: boolean;
    getTree(sha: any): Promise<{
        path: string;
        sha: string;
    }[]>;
    getPathTree(): Promise<{
        sha: string;
        tree: any[];
    }>;
    createFile(params: any): Promise<Octokit.Response<any>>;
    getDataJson(): Promise<{
        lastSync: string;
        data: any[];
        sha?: string;
    }>;
    updateDataJson({ data, sha }: {
        data: any;
        sha: any;
    }): Promise<Octokit.Response<Octokit.ReposUpdateFileResponse>>;
    createDataJson(data: any): Promise<Octokit.Response<any>>;
    upload(img: ImgInfo): Promise<{
        imgUrl: any;
        sha: any;
    }>;
    removeFile(img: ImgType): Promise<Octokit.Response<Octokit.ReposDeleteFileResponse>>;
    parseUrl(fileName: any): any;
}
export declare function getIns(config: PluginConfig): Octo;
export declare function clearIns(): void;
